<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Current Weather</title>
</head>
<body>
  <div id="weather">
    <div id="description"></div>
    <h1 id="temp"></h1>
    <div id="location"></div>
    <div id="precip"></div>
  </div>
  <script lang="text/javascript">
    // future JS
    function weatherBalloon( cityID ) {
      var key = '4f65582b38d251b7b07af44b50464e8a';
      fetch('https://api.openweathermap.org/data/2.5/weather?id=' + cityID+ '&appid=' + key)//fetches stream of weather data
      .then(function(resp) { return resp.json() }) //convert data to JSON
      .then(function(data) {
        drawWeather(data);
        console.log(data);
      })
      .catch(function() {
        //catch any errors
      });
    }

    window.onload = function(){
      weatherBalloon( 4726491 );
    }

    function drawWeather( d ) {
      var celcius = Math.round(parseFloat(d.main.temp)-273.15);
      var fahrenheit = Math.round(((parseFloat(d.main.temp)-273.15)*1.8)+32);

      document.getElementById('description').innerHTML = d.weather[0].description;
	    document.getElementById('temp').innerHTML = fahrenheit + '&deg;';
	    document.getElementById('location').innerHTML = d.name;
      //document.getElementByID('precip').innerHTML = d.
}

  </script>
</body>
</html>
